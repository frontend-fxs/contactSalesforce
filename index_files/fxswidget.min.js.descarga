(function(){String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.substr(t,n.length)===n})})(),function(){window.FXStreetWidgets={};var n=window.FXStreetWidgets;n.Util={};n.Widget={};n.Chart={};n.Configuration=null;n.ConfigManager={};n.Initialization=null;n.InitManager={};n.Deferred={};n.DeferredManager=null;n.ResourceManager={};n.ResourceManagerObj=null;n.ExternalLib={};n.ExternalLib.Mustache=null;n.Authorization=null;n.$=null;n.Util.guid=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()};n.Util.ajaxJsonGetter=function(t,i){return n.Authorization.getTokenPromise().then(function(r){return n.$.ajax({type:"GET",url:t,data:i,contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(n){n.setRequestHeader("Authorization",r.token_type+" "+r.access_token)}})})};n.Util.renderByHtmlTemplate=function(t,i){return n.ExternalLib.Mustache.render(t,i)};n.Util.getQueryStringParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))};n.Util.extendObject=function(n){var t=function(){};return t.prototype=n,new t};n.Util.arrayIsValid=function(t){return n.Util.isValid(t)&&t.length>0};n.Util.isValid=function(t){return t!=null&&!n.Util.isUndefined(t)};n.Util.isUndefined=function(n){return typeof n=="undefined"};n.Util.formatDate=function(t,i){if(!dateFormat)return console.warn("dateformat js is not loaded"),t;i||(i="MMM D, HH:mm");var u=n.Util.dateToUtc(t),f=function(n){return["default","shortDate","paddedShortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime"].includes(n)},r=i;return f(i)||(r=i.replaceAll("Y","y").replaceAll("D","d").replaceAll("M","m").replaceAll(":mm",":MM").replaceAll("mm:","MM:")),dateFormat(u,r)};n.Util.dateToUtc=function(n){var t=n?new Date(n):new Date;return utc=new Date(t.getTime()+t.getTimezoneOffset()*6e4)};n.Util.dateAddWeek=function(n,t){var i=new Date(n);return new Date(i.getTime()+6048e5*t)};n.Util.isSameDayOrAfter=function(n,t){var i=new Date(n),u=new Date(i.getFullYear(),i.getMonth(),i.getDate()),r=new Date(t),f=new Date(r.getFullYear(),r.getMonth(),r.getDate());return u.getTime()>=f.getTime()};n.Util.formatDateUtcOffset=function(t,i,r){if(n.Util.isValid(r)||(r="MMM D, HH:mm"),n.Util.isValid(t))var f=i?60*i:0,u=new Date(new Date(t).getTime()+f*6e4);return u?n.Util.formatDate(u,r):""};n.Util.log=function(t){if(n.Configuration.config.Logging!==!1&&!n.Util.isUndefined(window.console)){var i="["+(new Date).toTimeString()+"] FXS: "+t;window.console.debug?window.console.debug(i):window.console.log&&window.console.log(i)}};n.Util.async=function(n){n&&typeof n=="function"&&setTimeout(function(){n()},1)}}(),function(){FXStreetWidgets.ResourceType={Js:"Js",Css:"Css",Font:"Font",Mustache:"Mustache"};FXStreetWidgets.Resource=function(n,t,i,r){this.Name=n;this.Type=t;this.Url=i;this.Loaded=!1;this.Value="";this.CustomLoadedDelegate=r};FXStreetWidgets.ResourceManager=function(){var t=this,n={},r=function(n,t,i){n.addEventListener?n.addEventListener("load",function(){t(i)},!1):n.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&t.call(i)}},u=function(n,t){var i=document.createElement("script"),u;i.type="text/javascript";i.async=!0;i.src=n.Url;r(i,t,n.Name);u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(i,u)},f=function(n,t){var r=e(n);let i=document.querySelector("head");if(t){let n=i.firstElementChild;i.insertBefore(r,n)}else i.appendChild(r)},e=function(n){let i=/[a-zA-Z]+(\d*)\..+/g.exec(n.Name),r=i&&i.length>1?i[1]:!1;var t=document.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",n.Url),r&&t.setAttribute("media","(min-width: "+r+"px)"),t},o=function(n,t){FXStreetWidgets.$.ajax({type:"GET",url:n.Url}).then(function(i){n.Loaded=!0;n.Value=i;t.call(n)})},i=function(t,i){n[t].Loaded=!0;i&&typeof i=="function"&&i.call()},s=function(t){return n.hasOwnProperty(t.Name)},h=function(n){var u=!1,f,e,i,t,r;if(n.CustomLoadedDelegate&&n.CustomLoadedDelegate())return!0;switch(n.Type){case FXStreetWidgets.ResourceType.Js:for(f=document.getElementsByTagName("script"),t=0;t<f.length;t++)if(e=f[t],e.src===n.Url||e.src.indexOf(n.Name)!==-1){u=!0;break}break;case FXStreetWidgets.ResourceType.Css:for(i=document.getElementsByTagName("link"),t=0;t<i.length;t++)if(r=i[t],r.href===n.Url||r.href.indexOf(n.Name)!==-1){u=!0;break}break;case FXStreetWidgets.ResourceType.Font:for(i=document.getElementsByTagName("link"),t=0;t<i.length;t++)if(r=i[t],r.href===n.Url||r.href.indexOf(n.Url)!==-1){u=!0;break}}return u},c=function(t,r,e){var c=!1;if(s(t)?(c=!0,t.Loaded=!0):h(t)&&(c=!0,t.Loaded=!0,n[t.Name]=t),c===!0&&r&&typeof r=="function")r(t);else if(c===!1){n[t.Name]=t;switch(t.Type){case FXStreetWidgets.ResourceType.Js:u(t,function(n){i(n,r)});break;case FXStreetWidgets.ResourceType.Css:case FXStreetWidgets.ResourceType.Font:f(t,e);i(t.Name,r);break;case FXStreetWidgets.ResourceType.Mustache:o(t,function(){r(t)})}}};return t.load=function(n,t,i,r,u,f){var e=new FXStreetWidgets.Resource(n,t,i,u);return c(e,r,f)},t}}(),function(){FXStreetWidgets.ConfigManager=function(){var n=this,t;return n.config={Logging:!1,UseMin:!0,ServerName:"https://staticcontent.fxstreet.com/",AuthorizationUrl:"https://authorization.fxstreet.com/token",StaticContentQueryStringRefresh:"?t="+(new Date).getMilliseconds(),Culture:"en-US",StaticContentName:"widgets/",JsJqueryName:"jquery-1.11.3.min.js",JsMustacheName:"mustache.js",JsAuth:{container:"auth/",fileName:"fxsauth.js"},JsCores:["bootstrap.min.js"],JsRequires:["dateformat.js"],CssCores:["core1580.min.css","core1280.min.css","core1150.min.css","core1024.min.css","core920.min.css","core768.min.css","core680.min.css","core420.min.css","core375.min.css","core320.min.css","core.min.css"],FontAwesome:["font-awesome","https://staticcontent.fxstreet.com/fontawesome/5.10.1/css/all.min.css"],FontGoogle:["googleapis.com/css","https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500,700,300italic,400italic,500italic"]},n.init=function(){n.loadCustomConfig()},n.loadCustomConfig=function(){if(typeof fxs_widget_config!="undefined")for(key in fxs_widget_config)fxs_widget_config.hasOwnProperty(key)&&(n.config[key]=fxs_widget_config[key])},n.getHosts=function(){if(typeof fxs_widget_hosts_config=="undefined")return null;return fxs_widget_hosts_config},n.getCoreJsUrl=function(t){return n.getJsUrl(t,"core")},n.getCoreCssUrl=function(t){return n.getCssUrl(t,"core")},n.getCoreFontUrl=function(t){return n.getJsUrl(t,"core")},n.getJsUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/js/",t)},n.getMustacheUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/mustache/",t)},n.getCssUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/css/",t)},n.getFontUrl=function(t,i){return n.createResourceUrl(n.config.StaticContentName+i+"/font/",t)},n.createResourceUrl=function(t,i){return n.config.ServerName+t+i+n.config.StaticContentQueryStringRefresh},n.getCulture=function(){return n.config.Culture},n.getRefreshCacheValue=function(){if(!t){var i=n.config.StaticContentQueryStringRefresh.split("=");t=i[1]}return t},n}}(),function(){FXStreetWidgets.InitManager=function(){var n=this;return n.widgetsLoader={},n.interval=null,n.isReady=!1,n.init=function(){if(typeof jQuery=="undefined"){var t=FXStreetWidgets.Configuration.config.JsJqueryName,i=FXStreetWidgets.Configuration.getCoreJsUrl(t);FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i,n.jqueryLoadedCallback)}else n.jqueryLoadedCallback()},n.registerLoader=function(t,i){t&&i&&(n.widgetsLoader[t]=i)},n.jqueryLoadedCallback=function(){FXStreetWidgets.$=jQuery;n.loadAuthJs()},n.loadAuthJs=function(){if(n.authIsReady())n.authLoaded();else{var t=FXStreetWidgets.Configuration.config.JsAuth,i=FXStreetWidgets.Configuration.createResourceUrl(t.container,t.fileName);FXStreetWidgets.ResourceManagerObj.load(t.fileName,FXStreetWidgets.ResourceType.Js,i,n.authLoadedCallback,n.authIsReady)}},n.loadMustache=function(){if(n.mustacheIsReady())n.mustacheLoaded();else{var t=FXStreetWidgets.Configuration.config.JsMustacheName,i=FXStreetWidgets.Configuration.getCoreJsUrl(FXStreetWidgets.Configuration.config.JsMustacheName);FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i,n.mustacheLoadedCallback)}},n.mustacheLoadedCallback=function(){n.interval=setInterval(function(){n.mustacheIsReady()&&(clearInterval(n.interval),n.mustacheLoaded())},10)},n.authLoadedCallback=function(){n.Interval=setInterval(function(){n.authIsReady()&&(clearInterval(n.Interval),n.authLoaded())},10)},n.authLoaded=function(){FXStreetWidgets.Authorization=FXStreetAuth.Authorization.getInstance({authorizationUrl:FXStreetWidgets.Configuration.config.AuthorizationUrl});n.loadMustache()},n.mustacheLoaded=function(){FXStreetWidgets.ExternalLib.Mustache=Mustache;n.loadJsRequires();n.loadJsCores();n.loadCssCores();n.loadFontCores();var t=new FXStreetWidgets.InitManager.WidgetData(FXStreetWidgets.$("body"),!1);n.loadWidgets(t);n.isReady=!0},n.mustacheIsReady=function(){return typeof Mustache!="undefined"},n.authIsReady=function(){return typeof FXStreetAuth!="undefined"},n.loadFontCores=function(){var i=FXStreetWidgets.Configuration.config.FontGoogle[0],r=FXStreetWidgets.Configuration.config.FontGoogle[1],n,t;FXStreetWidgets.ResourceManagerObj.load(i,FXStreetWidgets.ResourceType.Font,r);n=FXStreetWidgets.Configuration.config.FontAwesome[0];t=FXStreetWidgets.Configuration.config.FontAwesome[1];FXStreetWidgets.ResourceManagerObj.load(n,FXStreetWidgets.ResourceType.Font,t)},n.loadCssCores=function(){for(var t,i,n=0;n<FXStreetWidgets.Configuration.config.CssCores.length;n++)t=FXStreetWidgets.Configuration.config.CssCores[n],i=FXStreetWidgets.Configuration.getCoreCssUrl(t),FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Css,i,null,null,!0)},n.loadJsCores=function(){for(var t,i,n=0;n<FXStreetWidgets.Configuration.config.JsCores.length;n++)t=FXStreetWidgets.Configuration.config.JsCores[n],i=FXStreetWidgets.Configuration.getCoreJsUrl(t),FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i)},n.loadJsRequires=function(){for(var t,i,n=0;n<FXStreetWidgets.Configuration.config.JsRequires.length;n++)t=FXStreetWidgets.Configuration.config.JsRequires[n],i=FXStreetWidgets.Configuration.getCoreJsUrl(t),FXStreetWidgets.ResourceManagerObj.load(t,FXStreetWidgets.ResourceType.Js,i)},n.loadWidgets=function(t){var f,i,r,e,u;for(f in t.widgets)i=t.widgets[f],n.widgetsLoader.hasOwnProperty(i.Name)?t.isDeferred===!0&&(u=n.widgetsLoader[i.Name],u!=="loading"&&(u.loadDeferred(t.container),i.Loaded=!0)):(r=i.Name,r+=FXStreetWidgets.Configuration.config.UseMin?".min.js":".js",e=FXStreetWidgets.Configuration.getJsUrl(r,i.Name),FXStreetWidgets.ResourceManagerObj.load(r,FXStreetWidgets.ResourceType.Js,e),n.registerLoader(i.Name,"loading"),i.Loaded=!0)},n};FXStreetWidgets.InitManager.WidgetData=function(n,t){var i=this;return i.container=n,i.isDeferred=t,i.widgets={},function(){for(var t,u=n.find("div[fxs_widget]"),r=0;r<u.length;r++)(t=u[r].getAttribute("fxs_name"),typeof t=="undefined"||i.widgets.hasOwnProperty(t))||(i.widgets[t]={Name:t,Loaded:!1})}(),i}}(),function(){FXStreetWidgets.DeferredManager=function(){var t=this,n=[],i=function(){var i,t,r;if(FXStreetWidgets.Initialization!==null&&FXStreetWidgets.Initialization.isReady)for(i=n.length-1;i>=0;i--){t=n[i];FXStreetWidgets.Initialization.loadWidgets(t);for(r in t.widgets)t.widgets[r].Loaded===!0&&delete t.widgets[r];Object.keys(t.widgets).length===0&&n.splice(i,1)}};return t.deferredLoad=function(t){if(t){var r=new FXStreetWidgets.InitManager.WidgetData(t,!0);n.push(r)}i()},t}}();FXStreetWidgets.Loaded=!1;FXStreetWidgets.Load=function(){FXStreetWidgets.ResourceManagerObj=new FXStreetWidgets.ResourceManager;FXStreetWidgets.Configuration=new FXStreetWidgets.ConfigManager;FXStreetWidgets.Configuration.init();FXStreetWidgets.Initialization=new FXStreetWidgets.InitManager;FXStreetWidgets.Initialization.init();FXStreetWidgets.Deferred=new FXStreetWidgets.DeferredManager;FXStreetWidgets.Loaded=!0},function(){window.addEventListener("load",FXStreetWidgets.Load)}(),function(n,t){function o(n){for(var t in n)n.hasOwnProperty(t)&&i[t]!==undefined&&(i[t]=n[t])}function s(){var t=[],r=n.document.querySelectorAll("["+i.WidgetAttr+"]");return Array.prototype.forEach.call(r,function(n){var i=n.localName;i!=="div"&&t.push(i)}),t}function h(){var n=s();n.length>0&&c(function(t){t?Array.prototype.forEach.call(n,function(n){r.load_component(n).then(function(t){var i={};i[n]=t;new Vue({el:n,components:i})}).catch(function(){})}):self.helpers.error("the resources were not loaded")})}function c(n){var t=f.length,r,u;f.forEach(function(n){n.load(function(n){n&&t--})});u=setInterval(function(){t===0&&(clearInterval(u),r&&clearTimeout(r),n(!0))},10);i.Timeout&&i.Timeout!==Infinity&&(r=setTimeout(function(){t!==0&&(clearInterval(u),n(!1))},i.Timeout))}var i={Logging:!0,ErrorHandler:null,Timeout:Infinity,WidgetAttr:"fxs_widget",Culture:"en-US",StaticContentName:"widgets/",StaticContentQueryStringRefresh:"?t="+(new Date).getMilliseconds(),ServerName:"https://staticcontent.fxstreet.com/",Resources:{scripts:{"Vue.js":"https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js",axios:"https://unpkg.com/axios@0.18.0/dist/axios.min.js",promise:"https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"},styles:{"marketimpactsignals.css":function(){return i.ServerName+i.StaticContentName+"marketimpactsignals/css/marketimpactsignals.css"+i.StaticContentQueryStringRefresh},"core.css":function(){return i.ServerName+i.StaticContentName+"core/css/core.css"+i.StaticContentQueryStringRefresh},"font-awesome.css":"https://staticcontent.fxstreet.com/fontawesome/5.10.1/css/all.min.css"}}},u={},r={error:function(n){if(i.Logging){var t="[FXS] "+n;i.errorHandler?i.warnHandler.call(null,t):typeof console!="undefined"&&console.error(t)}},loadjs_async:function(n,t){var r=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript";i.async=!0;i.src=n;t&&typeof t=="function"&&(i.addEventListener?i.addEventListener("load",t,!1):i.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&t.call()});r.parentNode.insertBefore(i,r)},loadcss:function(n){var t=document.createElement("link"),i;t.type="text/css";t.rel="stylesheet";t.href=n;i=document.getElementsByTagName("head")[0];i.appendChild(t)},ifcssloaded:function(n){var t=document.querySelectorAll('link[href="'+n+'"]');return t.length>0},componentpath:function(n){return i.ServerName+i.StaticContentName+"vue/components/"+n+"/"},load_component:function(t){var r=this;return u[t]?u[t]:(u[t]=new Promise(function(f){if(n.FXSVue.Components&&n.FXSVue.Components[t])delete u[t],f(n.FXSVue.Components[t]);else{var e=r.componentpath(t)+"component.js"+i.StaticContentQueryStringRefresh;r.loadjs_async(e,function(){delete u[t];f(n.FXSVue.Components[t])})}}),u[t])},isGuid:function(n){var t=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","i");return t.exec(n)}},f=[{name:"Vue.js",load:function(t){if(n.Vue){var u=Number(n.Vue.version.split(".")[0]);if(u<2){r.error("Please, update the Vue.js version");t(!1);return}t(!0)}else r.loadjs_async(i.Resources.scripts[this.name],function(){t(!0)})}},{name:"axios",load:function(t){n.axios?t(!0):n.Promise?r.loadjs_async(i.Resources.scripts.axios,function(){t(!0)}):r.loadjs_async(i.Resources.scripts.promise,function(){r.loadjs_async(i.Resources.scripts.axios,function(){t(!0)})})}},{name:"css",load:function(n){var t=i.Resources.styles,f,u;if(t)for(f in t)u=null,typeof t[f]=="string"?u=t[f]:typeof t[f]=="function"&&(u=t[f]()),u===null||r.ifcssloaded(u)||r.loadcss(u);n(!0)}}],e={name:"FXSWidgets",version:"1.0.0",init:function(n){n&&o(n);h()},helpers:r};t.App=e;n.addEventListener("load",function(){var t=n.fxs_widget_config||{};e.init(t)})}(window,window.FXSVue=window.FXSVue||{});
//# sourceMappingURL=fxswidget.min.js.map